# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:DejaVu Sans 11

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec urxvtc

# start Chrome
bindsym $mod+F1 exec google-chrome

# start Lutris
bindsym $mod+F5 exec lutris

# kill focused window
bindsym $mod+Shift+q kill

# Rofi is a more modern dmenu replacement
bindsym $mod+d exec --no-startup-id rofi -show run -theme "~/.config/i3/rofi.theme" -fullscreen

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+CTRL+h split h

# split in vertical orientation
bindsym $mod+CTRL+v split v

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# Screen lock settings
bindsym $mod+CTRL+Shift+l exec i3lock --color "$background"

# Have to click to set focus with mouse
focus_follows_mouse no

# Set resolution settings
exec "${HOME}/.screenlayout/screen_layout.sh"

# Wallpaper image
exec_always --no-startup-id feh --no-fehbg --bg-max \
~/.config/i3/feh/Dark_Ivy.jpg

# floating pop up
for_window [window_role="pop-up"] floating enable
for_window [window_role="task_dialog"] floating enable

for_window [class="Arandr"] floating enable
for_window [class="Lutris"] floating enable
for_window [class="Wine"] floating enable
for_window [class="VirtualBox Machine"] floating enable

##############
# WORKSPACES #
##############

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
set $ws1 "1 "
set $ws2 "2 "
set $ws3 "3 "
set $ws4 "4 "
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10 "

# switch to workspace
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# Workspace assignments
assign [class="Rhythmbox"] $ws10 # Put Rhythmbox on workspace 10

workspace_auto_back_and_forth yes

##########
# I3 BAR #
##########

bar {
  status_command i3blocks -c ~/.config/i3/i3blocks.conf
  tray_padding 0
  font pango:Font Awesome 5 Free 12
  colors {
    background $black1
    statusline $white2
    separator $white2

    #                  border      background  text
    focused_workspace  $black1     $black1     $white2
    active_workspace   $black1     $black1     $black2
    inactive_workspace $black1     $black1     $black2
    urgent_workspace   $red1       $black1     $red1
    binding_mode       $yellow2    $yellow2    $black1 }
}

#########
# MODES #
#########

### RESIZE MODE ###
mode "resize" {
  # These bindings trigger as soon as you enter the resize mode

  # Pressing left will shrink the window’s width.
  # Pressing right will grow the window’s width.
  # Pressing up will shrink the window’s height.
  # Pressing down will grow the window’s height.
  bindsym h resize shrink width 10 px or 10 ppt
  bindsym j resize grow height 10 px or 10 ppt
  bindsym k resize shrink height 10 px or 10 ppt
  bindsym l resize grow width 10 px or 10 ppt

  # same bindings, but for the arrow keys
  bindsym Left resize shrink width 10 px or 10 ppt
  bindsym Down resize grow height 10 px or 10 ppt
  bindsym Up resize shrink height 10 px or 10 ppt
  bindsym Right resize grow width 10 px or 10 ppt

  # back to normal: Enter or Escape or $mod+r
  bindsym Return mode "default"
  bindsym Escape mode "default"
  bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

### SYSTEM MODE ###
set $mode_system \
System (l) lock, (e) logout, (s) suspend, \
(h) hibernate, (r) reboot, (Ctrl+s) shutdown

mode "$mode_system" {
  bindsym l exec --no-startup-id $i3lockwall, mode "default"
  bindsym e exec --no-startup-id i3-msg exit, mode "default"
  bindsym s exec --no-startup-id $i3lockwall && systemctl suspend, \
  mode "default"
  bindsym h exec --no-startup-id $i3lockwall && systemctl hibernate, \
  mode "default"
  bindsym r exec --no-startup-id systemctl reboot, mode "default"
  bindsym CTRL+s exec --no-startup-id systemctl poweroff -i, \
  mode "default"

  # to close the menu: Enter or Escape
  bindsym Return mode "default"
  bindsym Escape mode "default"
}
bindsym $mod+BackSpace mode "$mode_system"

### MEDIA MODE ###
set $mode_media \
Media (m) mute, (j) -volume, (k) +volume, (h) prev, (l) next, \
(p) Play/Pause

mode "$mode_media" {
  bindsym m exec --no-startup-id pulsemixer --toggle-mute
  bindsym j exec --no-startup-id pulsemixer --change-volume -5
  bindsym k exec --no-startup-id pulsemixer --change-volume +5
  bindsym h exec --no-startup-id playerctl previous
  bindsym l exec --no-startup-id playerctl next
  bindsym p exec --no-startup-id playerctl play-pause

  bindsym Escape mode "default"
}
bindsym $mod+m mode "$mode_media"

##########
# DESIGN #
##########

# Colors
# special
set_from_resource $foreground foreground #eaeaea
set_from_resource $background background #161616
set_from_resource $cursorColor cursorColor #eaeaea

# black
set_from_resource $black1 color0 #1c1d1f
set_from_resource $black2 color8 #4e5053
set $trueblack #000000

# red
set_from_resource $red1 color1 #ad2818
set_from_resource $red2 color9 #dd4d3c

# green
set_from_resource $green1 color2 #65a643
set_from_resource $green2 color10 #85df56

# yellow
set_from_resource $yellow1 color3 #d8aa1e
set_from_resource $yellow2 color11 #fbcf4b

# blue
set_from_resource $blue1 color4 #3b6dc0
set_from_resource $blue2 color12 #5b9aff

# magenta
set_from_resource $magenta1 color5 #a94bbc
set_from_resource $magenta2 color13 #cf79e0

# cyan
set_from_resource $cyan1 color6 #1f9b9b
set_from_resource $cyan2 color14 #6bdada

# white
set_from_resource $white1 color7 #909295
set_from_resource $white2 color15 #eaeaea

# hide borders
hide_edge_borders both

# class                 border  background  text        indicator child_border
client.focused          #333333 $black2     $white2     #285577
client.focused_inactive #333333 $background $foreground #484e50
client.unfocused        #333333 #222222     #888888     #292d2e   #222222
client.urgent           $red1   $red1       $white2     $red1     $red1
client.placeholder      #000000 #0c0c0c     $white2     #000000   #0c0c0c

for_window [class=URxvt*"] border pixel 1

########################
# Startup Applications #
########################

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# NetworkManager system tray interface
exec --no-startup-id nm-applet

# Start PulseAudio sound server
exec --no-startup-id pulseaudio --start

# Start Peripheral Auto-mount
exec --no-startup-id udiskie

# Notifications
exec --no-startup-id dunst

# Compositor for transparancy
exec compton -f

# Merge the Xresources, and start the urxvtd daemon plus scratchpads
exec --no-startup-id xrdb -merge ~/.config/X11/.Xresources \
    && urxvtd -q -o -f \
    && urxvtc -name urxvt_scratchpad \
    && urxvtc -name htop_scratchpad -e htop

# Terminal scratchpad
for_window [instance="urxvt_scratchpad"] move to scratchpad, border none
bindsym $mod+Shift+t [instance="urxvt_scratchpad"] scratchpad show

# htop scratchpad
for_window [instance="htop_scratchpad"] move to scratchpad, border none
bindsym $mod+Shift+p [instance="htop_scratchpad"] scratchpad show
